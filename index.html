<!-- SMPT -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tamil News Feed APP</title>
  </head>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
    crossorigin="anonymous"
  />
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
    crossorigin="anonymous"
  ></script>
  <script src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
  <link href="assets/style.css" rel="stylesheet" />
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark"
    style="max-height: 10vh;">
      <div class="container-fluid">
        <a class="navbar-brand" href="#"
          ><img
            src="assets/images/tm.jpg"
            alt=""
            style="height: 50px; width: 50px; border-radius: 5px;
             box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px,
              rgba(0, 0, 0, 0.3) 0px 30px 60px -30px,
               rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset;"
        /></a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#"
                >முகப்பு</a
              >
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                இதழ்கள்
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li>
                  <a class="dropdown-item" href="http://www.dinamalar.com/"
                    >தினமலர்</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="https://www.dinamani.com/"
                    >தினமனி</a
                  >
                </li>
                <!-- <li><hr class="dropdown-divider" /></li> -->
                <li>
                  <a class="dropdown-item" href="https://www.dailythanthi.com/"
                    >தினத்தந்தி</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="https://www.hindutamil.in/"
                    >தி ஹிந்து தமிழ்</a
                  >
                </li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                வகைப்பாடு
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li>
                  <a class="dropdown-item" href="#">தொழில்நுட்பம்</a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">விளையாட்டு</a>
                </li>
                <!-- <li><hr class="dropdown-divider" /></li> -->
                <li>
                  <a class="dropdown-item" href="#">சந்தை</a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">வணிக</a>
                </li>
              </ul>
            </li>
          </ul>
          <form class="d-flex" action="search.html">
            <input
              class="form-control me-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
              name="q"
            />
            <button class="btn btn-outline-success" type="submit">
              Search
            </button>
          </form>
        </div>
      </div>
    </nav>
    <div
      id="slides"
      class="carousel carousel-dark slide"
      data-bs-ride="carousel"
    >
      <div class="carousel-indicators">
        <button
          type="button"
          data-bs-target="#slides"
          data-bs-slide-to="0"
          class="active"
          aria-current="true"
          aria-label="Slide 1"
        ></button>
        <button
          type="button"
          data-bs-target="#slides"
          data-bs-slide-to="1"
          aria-label="Slide 2"
        ></button>
        <button
          type="button"
          data-bs-target="#slides"
          data-bs-slide-to="2"
          aria-label="Slide 3"
        ></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img
            src="assets/images/car/a.jpg"
            class="carousel-img"
            alt="..."
            id="carousel-page1-image"
          />
          <div class="carousel-caption d-none d-md-block">
            <h5 id="carousel-page1-caption">
              Some representative placeholder content for the second slide.
            </h5>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="assets/images/car/b.jpg"
            class="carousel-img"
            alt="..."
            id="carousel-page2-image"
          />
          <div class="carousel-caption d-none d-md-block">
            <h5 id="carousel-page2-caption">
              Some representative placeholder content for the second slide.
            </h5>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="assets/images/car/c.jpg"
            class="carousel-img"
            alt="..."
            id="carousel-page3-image"
          />
          <div class="carousel-caption d-none d-md-block">
            <h5 id="carousel-page3-caption">
              Some representative placeholder content for the second slide.
            </h5>
          </div>
        </div>
      </div>
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#slides"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#slides"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    <div class="row container-fluid">
      <div class="col-sm-6 col-lg-6 col-md-6 col-xs-6">
        <h4 style="text-align: center">செய்திகள்</h4>
        <div class="col-sm-12">
          <div class="card">
            <div class="row">
              <div class="col-sm-4">
                <img
                  src="assets/images/news.jpg"
                  class="card-img"
                  alt="..."
                  style="max-width: 150px; max-height: 150px"
                  id="dinamalar-tamil-img"
                />
              </div>
              <div class="col-sm-8">
                <div class="card-body">
                  <!-- <h5 class="card-title">Special title treatment</h5> -->
                  <p class="card-text" id="dinamalar-tamil-text">
                    With supporting text below as a natural lead-in to
                    additional content.
                  </p>
                  <a href="#" class="btn btn-primary">முழு கவரேஜையும் காட்டு</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-12">
          <div class="card">
            <div class="row">
              <div class="col-sm-4">
                <img
                  src="assets/images/news.jpg"
                  class="card-img"
                  alt="..."
                  style="max-width: 150px; max-height: 150px"
                  id="dinamani-tamil-img"
                />
              </div>
              <div class="col-sm-8">
                <div class="card-body">
                  <!-- <h5 class="card-title">Special title treatment</h5> -->
                  <p class="card-text" id="dinamani-tamil-text">
                    With supporting text below as a natural lead-in to
                    additional content.
                  </p>
                  <a href="#" class="btn btn-primary">முழு கவரேஜையும் காட்டு</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-12">
          <div class="card">
            <div class="row">
              <div class="col-sm-4">
                <img
                  src="assets/images/news.jpg"
                  class="card-img"
                  alt="..."
                  style="max-width: 200px; max-height: 200px"
                  id="hindu-tamil-img"
                />
              </div>
              <div class="col-sm-8">
                <div class="card-body">
                  <!-- <h5 class="card-title">Special title treatment</h5> -->
                  <p class="card-text" id="hindu-tamil-text">
                    With supporting text below as a natural lead-in to
                    additional content.
                  </p>
                  <a href="#" class="btn btn-primary">முழு கவரேஜையும் காட்டு</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-lg-6 col-md-6 col-xs-6" id="just-now">
        <h4 style="text-align: center">சற்று முன்</h4>
      </div>
    </div>
  </body>
  <script>
    fetch(
      "https://api.codetabs.com/v1/proxy?quest=http://feeds.feedburner.com/dinamalar/Front_page_news"
    )
      .then((response) => response.text())
      .then((str) => new window.DOMParser().parseFromString(str, "text/xml"))
      .then((data) => {
        const items = data.querySelectorAll("item");
        document.getElementById("dinamalar-tamil-text").innerHTML =
          items[0].childNodes[0].innerHTML;
        let id = items[0].childNodes[6].innerHTML.match("id=.+")[0].slice(3);
        document.getElementById("dinamalar-tamil-img").src =
          "https://img.dinamalar.com/data/largenew/Tamil_News_large_" +
          id +
          ".jpg";
      });
    fetch(
      "https://www.dinamani.com/%E0%AE%A4%E0%AE%B1%E0%AF%8D%E0%AE%AA%E0%AF%8B%E0%AE%A4%E0%AF%88%E0%AE%AF-%E0%AE%9A%E0%AF%86%E0%AE%AF%E0%AF%8D%E0%AE%A4%E0%AE%BF%E0%AE%95%E0%AE%B3%E0%AF%8D/%E0%AE%A4%E0%AE%B1%E0%AF%8D%E0%AE%AA%E0%AF%8B%E0%AE%A4%E0%AF%88%E0%AE%AF-%E0%AE%9A%E0%AF%86%E0%AE%AF%E0%AF%8D%E0%AE%A4%E0%AE%BF%E0%AE%95%E0%AE%B3%E0%AF%8D/rssfeed/?id=687&getXmlFeed=true"
    )
      .then((res) => res.text())
      .then((res) => new window.DOMParser().parseFromString(res, "text/xml"))
      .then((data) => {
        const items = data.querySelectorAll("item");
        document.getElementById("dinamani-tamil-text").innerHTML =
          items[4].children[3].innerHTML;
        // items[4].childNodes[7].innerHTML;
        document.getElementById("dinamani-tamil-img").src =
          items[4].childNodes[21].innerHTML;
      });
    fetch(
      "https://api.codetabs.com/v1/proxy?quest=http://feeds.feedburner.com/Hindu_Tamil_india"
    )
      .then((res) => res.text())
      .then((res) => new window.DOMParser().parseFromString(res, "text/xml"))
      .then((data) => {
        const items = data.querySelectorAll("item");
        document.getElementById("hindu-tamil-text").innerHTML =
          items[0].childNodes[0].innerHTML;
        image_encoded = items[0].childNodes[2].innerHTML;
        match = image_encoded.match("https://.+.jpg")[0];
        document.getElementById("hindu-tamil-img").src = match;
      });
    function updateCarouselImage(page_no) {
      fetch(
        "https://www.dinamani.com/%E0%AE%A4%E0%AE%B1%E0%AF%8D%E0%AE%AA%E0%AF%8B%E0%AE%A4%E0%AF%88%E0%AE%AF-%E0%AE%9A%E0%AF%86%E0%AE%AF%E0%AF%8D%E0%AE%A4%E0%AE%BF%E0%AE%95%E0%AE%B3%E0%AF%8D/%E0%AE%A4%E0%AE%B1%E0%AF%8D%E0%AE%AA%E0%AF%8B%E0%AE%A4%E0%AF%88%E0%AE%AF-%E0%AE%9A%E0%AF%86%E0%AE%AF%E0%AF%8D%E0%AE%A4%E0%AE%BF%E0%AE%95%E0%AE%B3%E0%AF%8D/rssfeed/?id=687&getXmlFeed=true"
      )
        .then((res) => res.text())
        .then((res) => new window.DOMParser().parseFromString(res, "text/xml"))
        .then((data) => {
          const items = data.querySelectorAll("item");
          document.getElementById(
            "carousel-page" + page_no + "-caption"
          ).innerHTML = items[page_no - 1].children[3].innerHTML;
          document.getElementById("carousel-page" + page_no + "-image").src =
            items[page_no - 1].childNodes[21].innerHTML;
        });
    }
    for (let i = 1; i <= 3; i++) {
      updateCarouselImage(i);
    }
    fetch(
      "https://api.codetabs.com/v1/proxy?quest=https://www.polimernews.com/rss"
    )
      .then((res) => res.text())
      .then((res) => new window.DOMParser().parseFromString(res, "text/xml"))
      .then((data) => {
        const items = data.querySelectorAll("item");
        // console.log(items);
        for (let i = 0; i < items.length; i++) {
          // console.log(items[i]);
          updateJustNow(items[i]);
        }
      });
    function updateJustNow(item) {
      let outer_div = document.createElement("div");
      outer_div.className = "col-sm-12";
      let card = document.createElement("div");
      card.className = "card";
      let row_div = document.createElement("div");
      row_div.className = "row";
      let image_div = document.createElement("div");
      image_div.className = "col-sm-4";
      let image = document.createElement("img");
      image.src = item.childNodes[7].outerHTML.match("https:.+jpg")[0];
      image.className = "card-image";
      image.style = "max-width: 150px; max-height: 150px";
      image_div.appendChild(image);
      row_div.appendChild(image_div);
      let div_sm_8 = document.createElement("div");
      div_sm_8.className = "col-sm-8";
      let card_body = document.createElement("div");
      card_body.className = "card-body";
      // let inner_text = document.createTextNode(item.childNodes[0].innerHTML);
      // inner_text.className = "card-text";
      let card_text = document.createElement('p');
      card_text.className = "card-text";
      card_text.innerHTML = item.childNodes[0].innerHTML;
      let button = document.createElement("a");
      button.href = item.childNodes[1].innerHTML;
      button.className = "btn btn-primary";
      button.innerHTML = "முழு கவரேஜையும் காட்டு";
      card_body.appendChild(card_text);
      card_body.appendChild(button);
      div_sm_8.appendChild(card_body);
      row_div.appendChild(div_sm_8);
      card.appendChild(row_div);
      outer_div.appendChild(card);
      document.getElementById("just-now").appendChild(outer_div);
    }
  </script>
  <style>
    @font-face {
      font-family: "MuktaMalar-Regular";
      src: url("assets/fonts/MuktaMalar-Medium.ttf");
    }
    #dinamalar-tamil-text,
    #hindu-tamil-text,
    #dinamani-tamil-text,
    .card-text,
    .carousel-caption {
      font-family: "MuktaMalar-Regular";
      font-size: 125%;
    }
    .card{
      box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;
    }
  </style>
  <!-- polimer:
    item.childNodes[0] = title
    item.childNodes[1] = link
    item.childNodes[7] = image -->
</html>
